(()=>{var __webpack_modules__={440:(e,t,r)=>{const{MessageEmbed:o,WebhookClient:s}=r(591);const i=4096;e.exports.send=(e,t,r,o,i,n,a,c)=>new Promise(((l,g)=>{let u;console.log("Preparing Webhook...");try{if(!e||!t){throw new Error("ID or token is missing")}n=n.filter((e=>!e.message.toLowerCase().startsWith("merge")));a=n.length;u=new s({id:e,token:t});if(c){if(isNaN(c)){throw new Error("threadId is not a number")}console.log("Found thread ID");u.send({embeds:[createEmbed(r,o,i,n,a)],threadId:c}).then((()=>{console.log("Successfully sent the message!");l()}),g)}else{u.send({embeds:[createEmbed(r,o,i,n,a)]}).then((()=>{console.log("Successfully sent the message!");l()}),g)}}catch(e){console.log("Error creating Webhook");g(e.message)}}));function createEmbed(e,t,r,s,i){console.log("Constructing Embed...");console.log("Commits :");const n=s[0];console.log({latest:n});if(!n){console.log("No commits, skipping...");return}if(!n.author){n.author={username:"unknown",avatar:null}}else{n.author.avatar=`https://i.imgur.com/yZcbfqm.png?size=32`}const a=getChangeLog(e,t,s,i);return(new o).setColor(47906).setAuthor({name:`${i} ${i===1?"commit was":"commits were"} added to ${a[0]}/${a[1]}`,iconURL:n.author.avatar}).setDescription(`${a[2]}`).setTimestamp(Date.parse(n.timestamp)).setFooter({text:`âš¡ Edited by SALife @Developers`})}function getChangeLog(e,t,r,o){let s="";let n=false;for(const o in r){const s=r[o];if(s.message.startsWith("%")){n=true;t=obfuscateMessage(t);e=obfuscateMessage(e);break}}s+=`**ðŸ”„ Recent Changes:**\n`;for(const e in r){if(e>32){s+=`\n**+${o-e}** more changes...\n`;break}const t=r[e];const a=t.id.substring(0,6);let c=t.message;if(c.startsWith("%")){c=c.substring(1)}if(n){c=obfuscateMessage(c);c=c.replace(/ /g,"â–Œ")}else{c=c.replace(/^(fix|fixed|fixes|bug|bugfix|bugfixes|bugfixing|bugfixes|bugfixing):/i,"ðŸ”§ ");c=c.replace(/^(feat|add|added|adds|feature|features|featureing|featureing|featureing|featureing):/i,"âœ¨ ");c=c.replace(/^(remove|removed|removeing|removeing|removeing|removeing):/i,"ðŸ—‘ï¸ ");c=c.replace(/^(update|updated|updateing|updateing|updateing|updateing):/i,"ðŸ“ ");c=c.replace(/^(security|secure):/i,"ðŸ”’ ");c=c.replace(/^(bug|bugfix):/i,"ðŸ› ");c=c.replace(/^(refactor|refactored):/i,"ðŸ”„ ");c=c.replace(/^(docs|documentation):/i,"ðŸ“š ");c=c.replace(/^(test|testing):/i,"ðŸ§ª ");c=c.replace(/^(style|styling):/i,"ðŸŽ¨ ");c=c.replace(/^(chore|choreography):/i,"ðŸ§¹ ");c=c.replace(/^(perf|performance):/i,"ðŸš€ ");c=c.replace(/^(revert|reverted):/i,"âª ");c=c.replace(/^(script|scripts|scripting|scripting|scripting|scripting):/i,"ðŸ’» ");c=c.replace(/^(config|configuration|configuring|configuring|configuring|configuring):/i,"ðŸ”§ ");c=c.replace(/^(garage|vehicle|vehicles):/i,"ðŸš— ");c=c.replace(/^(job|jobs):/i,"ðŸ’¼ ");c=c.replace(/^(ps-housing|house|property|properties|property|properties):/i,"ðŸ  ");c=c.replace(/^(Sytrookie): /i,"@Developers")}if(c.length>i){c=c.substring(0,i)+"..."}if(n){s+=`\`${a}\` ${c}\n`}else{s+=`\`${a}\` ${c}\n`}}return[e,t,s]}function obfuscateMessage(e){const t=["â–„","â–…","â–‡","â–ˆ","â–‰"];let r="";for(let o=0;o<e.length;o++){const s=e.charAt(o);if(s===" "){r+=" "}else{const e=Math.floor(Math.random()*t.length);r+=t[e]}}return r}},365:module=>{module.exports=eval("require")("@actions/core")},189:module=>{module.exports=eval("require")("@actions/github")},591:module=>{module.exports=eval("require")("discord.js")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var o=true;try{__webpack_modules__[e](r,r.exports,__nccwpck_require__);o=false}finally{if(o)delete __webpack_module_cache__[e]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};const core=__nccwpck_require__(365);const github=__nccwpck_require__(189);const webhook=__nccwpck_require__(440);function run(){const e=core.getInput("id");const t=core.getInput("token");const r=core.getInput("threadId");const o=github.context.payload;const s=o.repository.name;const i=o.commits;const n=i.length;const a=o.ref.split("/")[o.ref.split("/").length-1];console.log("Received payload.");console.log(`Received ${n} commits...`);if(!i[0]){console.log("No commits, skipping...");return}webhook.send(e,t,s,a,o.compare,i,n,r).catch((e=>core.setFailed(e.message)))}try{run()}catch(e){core.setFailed(e.message)}module.exports=__webpack_exports__})();